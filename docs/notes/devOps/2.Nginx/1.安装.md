---
title: 安装
createTime: 2025/10/07 14:48:58
permalink: /DevOps/3v9fdoem/
---

## Windows

1. 进入[官方下载地址](https://nginx.org/en/download.html)，选择合适版本（nginx/Windows-xxx）。

![](https://raw.githubusercontent.com/AliceSpring123/img/main/20180920181023092347.png)

2. 解压到本地

![](https://raw.githubusercontent.com/AliceSpring123/img/main/20180920181023092044.png)

3. 启动

下面以 C 盘根目录为例说明下：

```bash
cd C:
cd C:\nginx-0.8.54 start nginx
```

## Linux安装

### rpm包方式（推荐）

1. 进入[下载页面](https://nginx.org/packages/)，选择合适版本下载：

```bash
$ wget http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
```

2. 安装 nginx 的 rum 源

```bash
$ rpm -ivh nginx-*.rpm
```

3. 安装rpm包

```bash
$ yum install nginx
```

4. 关闭防火墙

```bash
$ firewall-cmd --zone=public --add-port=80/tcp --permanent
$ firewall-cmd --reload
```

### 源码编译方式

1. 安装编译工具及库

  Nginx 源码的编译依赖于 gcc 以及一些库文件，所以必须提前安装。

  ```bash
  yum -y install make zlib zlib-devel gcc-c++ libtool  openssl openssl-devel
  ```

2. Nginx 依赖 pcre 库，安装步骤如下：

  - 下载解压到本地

    进入 pcre 官网下载页面，选择合适的版本下载。
  ```bash
  wget -O /opt/pcre/pcre-8.35.tar.gz http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz
  
  cd /opt/pcre
  tar zxvf pcre-8.35.tar.gz
  ```

  - 编译安装

    执行以下命令：

  ```bash
  cd /opt/pcre/pcre-8.35
  ./configure
  make && make install
  ```

  - 检验是否安装成功

  ```bash
  pcre-config --version
  ```


3. 编译安装

  进入官网下载地址：http://nginx.org/en/download.html ，选择合适的版本下载。

  ```bash
  wget -O /opt/nginx/nginx-1.12.2.tar.gz http://nginx.org/download/nginx-1.12.2.tar.gz

  cd /opt/nginx
  tar zxvf nginx-1.12.2.tar.gz
  ```

  编译安装

  ```bash
  cd /opt/nginx/nginx-1.12.2

  ./configure --with-http_stub_status_module --with-http_ssl_module --with-pcre=/opt/pcre/pcre-8.35

  make && make install

  ```

4. 关闭防火墙

  ```bash
  firewall-cmd --zone=public --add-port=80/tcp --permanent

  firewall-cmd --reload
  ```

### 设置开机自启动

- rpm 包方式

  如果是通过 rpm 包安装的，会自动创建 nginx.service 文件。

  直接用命令：

  ```bash
  systemctl enable nginx.service
  ```

  设置开机启动即可。

- 源码编译方式

  如果采用源码编译方式，需要手动创建 nginx.service 文件。

## Docker 安装

- 官网镜像：https://hub.docker.com/_/nginx/
- 下载镜像：`docker pull nginx`
- 启动容器：
  
  `docker run --name my-nginx -p 80:80 -v`
  
  `/data/docker/nginx/logs:/var/log/nginx -v`

  `/data/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf:ro -d nginx`
  
- 重新加载配置：`docker exec -it my-nginx nginx -s reload`

- 停止服务：`docker exec -it my-nginx nginx -s stop` 或者：`docker stop my-nginx`

- 重新启动服务：`docker restart my-nginx`