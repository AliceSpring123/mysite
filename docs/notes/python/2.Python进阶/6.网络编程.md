---
title: 网络编程
createTime: 2025/10/02 15:35:13
permalink: /Python/ho9zdgxf/
---


## 套接字(Socket)
Python 的 `socket` 模块提供了对网络通信的低级接口，允许你实现网络应用程序，如客户端-服务器模型。
它支持两种主要的协议:
- **TCP(传输控制协议)** : 面向连接，可靠，基于字节流
- **UDP(用户数据报协议)** : 无连接，不可靠，基于数据报
![Socket](https://raw.githubusercontent.com/AliceSpring123/img/main/python_socket-1.png)

![Socket_2](https://raw.githubusercontent.com/AliceSpring123/img/main/python_socket-2.png)

## TCP Socket编程
1. **服务器端**:
   - 创建Socket。
   - 绑定IP地址和端口
   - 监听连接
   - 接受客户端连接
   - 发送和接收数据
   - 关闭连接
```python
import socket

# 创建 TCP socket
server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# 绑定 IP 和 端口
server_socket.bind('127.0.0.1', 12345)

# 监听连接
server_socket.listen(5) # 参数为允许连接的数量, 不填则自动设置
print("服务器已启动, 等待连接...")

# 接收客户端连接
client_socket.send("你好，客户端！".encode('utf-8'))

# 关闭连接
client_socket.close()
server_socket.close()
```
2. **客户端**:
   - 创建Socket
   - 绑定IP地址和端口
   - 接收数据
   - 发送数据
   - 关闭Socket
```python
import socket

# 创建 TCP socket
client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# 连接到服务器
client_socket.connet('127.0.0.1', 12345)

# 发送数据
client_socket.send("你好，服务器！".encode('utf-8'))

# 接收数据
data = client_socket.recv(1024)
print(f"收到数据: {data.decode('utf-8')}")

# 关闭连接
client_socket.close()
```
## UDP Socket编程
1. **服务器端**:
   - 创建Socket
   - 绑定IP地址和端口
   - 接收数据
   - 发送数据
   - 关闭套接字
```python
import socket

# 创建 UDP socket
server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# 绑定 IP 和 端口
server_socket.bind(('127.0.0.1', 12345))
print("UDP 服务器已启动, 等待数据...")

# 接收数据
data, addr = server_socket.recvfrom(1024)
print(f"收到来自 {addr} 的数据: {data.decode('utf-8')}")

# 发送数据
server_socket.sendto("你好, 客户端！".encode('utf-8'), addr)

# 关闭socket
server_socket.close()
```
2. **客户端**:
   - 创建套接字
   - 发送数据
   - 接受数据
   - 关闭套接字
```python
import socket

# 创建 UDP 套接字
client_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

# 发送数据
client_socket.sendto("你好, 服务器！".encode(utf-8), ('127.0.0.1', 12345))

# 接收数据
data, addr = client_socket.recvfrom(1024)
print(f"收到来自 {addr} 的数据: {data.decode{'urf-8'}}")

# 关闭套接字
client_socket.close()
```