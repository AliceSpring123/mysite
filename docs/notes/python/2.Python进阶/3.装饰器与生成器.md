---
title: 装饰器与生成器
createTime: 2025/10/02 15:35:13
permalink: /Python/kjpvokwr/
---


## 装饰器
装饰器其实也是一种闭包，其功能就是**在不破坏目标函数原有代码的功能的前提下，为目标函数增加新功能**
```python
# 方式1: 定义一个闭包函数, 在闭包函数内部执行目标函数, 并完成新功能的添加
def outer(func):
  def inner():
    print("我要睡觉了")
    func()
    print("我起床了")

  return inner

def sleep():
  import random
  import time
  print("睡眠中....")
  time.sleep(random.randint(1, 5))

fn = outer(sleep)
fn()

# 执行结果:
# 我要睡觉了
# 睡眠中....
# 我起床了
```

```python
# 方式2: 使用语法糖
def outer(func):
  def inner():
    print("我要睡觉了")
    func()
    print("我起床了")

  return inner

@outer
def sleep():
  import random
  import time
  print("睡眠中....")
  time.sleep(random.randint(1, 5))

sleep()
```

## 生成器